[{"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\index.js":"1","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\App.js":"2","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\utils\\history.js":"3","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\screens\\LoginScreen.js":"4","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\screens\\AdminDashboard.js":"5","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\context\\AuthContext.js":"6","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\screens\\SignupScreen.js":"7","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\screens\\UserDashboard.js":"8","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\UserList.js":"9","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\UserFilesList.js":"10","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\AdminDefault.js":"11","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\Sidebar.js":"12","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\UserSidebar.js":"13","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\UserApp.js":"14","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\utils\\constants.js":"15","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\AdminLoader.js":"16"},{"size":702,"mtime":1623567729102,"results":"17","hashOfConfig":"18"},{"size":3074,"mtime":1622550140486,"results":"19","hashOfConfig":"18"},{"size":87,"mtime":1622550187896,"results":"20","hashOfConfig":"18"},{"size":6167,"mtime":1621942462051,"results":"21","hashOfConfig":"18"},{"size":5519,"mtime":1619092841164,"results":"22","hashOfConfig":"18"},{"size":3184,"mtime":1621350434022,"results":"23","hashOfConfig":"18"},{"size":5884,"mtime":1621942483538,"results":"24","hashOfConfig":"18"},{"size":5265,"mtime":1623424488312,"results":"25","hashOfConfig":"18"},{"size":14309,"mtime":1623697477314,"results":"26","hashOfConfig":"18"},{"size":9128,"mtime":1623848913098,"results":"27","hashOfConfig":"18"},{"size":5448,"mtime":1623841824348,"results":"28","hashOfConfig":"18"},{"size":1799,"mtime":1621869743926,"results":"29","hashOfConfig":"18"},{"size":1451,"mtime":1621875369004,"results":"30","hashOfConfig":"18"},{"size":6996,"mtime":1623600302938,"results":"31","hashOfConfig":"18"},{"size":49,"mtime":1621357929188,"results":"32","hashOfConfig":"18"},{"size":407,"mtime":1619092841091,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"q9f49g",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\index.js",[],["68","69"],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\App.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\utils\\history.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\screens\\LoginScreen.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\screens\\AdminDashboard.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\context\\AuthContext.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\screens\\SignupScreen.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\screens\\UserDashboard.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\UserList.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\UserFilesList.js",["70"],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\AdminDefault.js",["71"],"import React,{useState,useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../utils/constants';\r\nimport { Card, Grid ,Feed,Icon} from 'semantic-ui-react';\r\nimport download from 'downloadjs';\r\n\r\nexport default function AdminDefault() {\r\n    const [latestFilesList, setLatestFilesList] = useState([]);\r\n    const [myFilesList, setMyFilesList] = useState([]);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n  \r\n  const getLatestFilesList = () =>{\r\n    axios.get(`${API_URL}/getLatestFiles`,{withCredentials: true})\r\n    .then(res=>{\r\n        if(res.status === 200){\r\n            setLatestFilesList(res.data);\r\n            setErrorMsg('');\r\n        }else{\r\n            throw Error('Error fetching data');\r\n        }\r\n    })\r\n    .catch(err=>{\r\n        console.log(err);\r\n        setErrorMsg(err.message);\r\n    })\r\n}\r\n\r\n  useEffect(() => {\r\n    getLatestFilesList();\r\n  },[]);\r\n\r\n  const getMyFilesList = () =>{\r\n    axios.get(`${API_URL}/getMyFiles`,{withCredentials: true})\r\n    .then(res=>{\r\n        if(res.status === 200){\r\n            setMyFilesList(res.data);\r\n            setErrorMsg('');\r\n        }else{\r\n            throw Error('Error fetching data');\r\n        }\r\n    })\r\n    .catch(err=>{\r\n        console.log(err);\r\n        setErrorMsg(err.message);\r\n    })\r\n}\r\n\r\n  useEffect(() => {\r\n    getMyFilesList();\r\n  },[]);\r\n\r\n  \r\n//   const deleteFile = (id,filesList) =>{\r\n//     //console.log(typeof id)\r\n//     let url=`${API_URL}/delete/${id}`;\r\n//     axios.delete(url,{withCredentials: true})\r\n//     .then(res=>{\r\n//       //console.log(res)\r\n//       //console.log(filesList)\r\n//       const newData=filesList.filter(file => id !== file._id)\r\n//       //console.log(newData)\r\n//       setFilesList(newData);\r\n//       //console.log(filesList);\r\n//       setErrorMsg('');\r\n//     })\r\n//   };\r\n  \r\n    const downloadFile = async (id, path, mimetype) => {\r\n      try {\r\n        const result = await axios.get(`${API_URL}/download/${id}`,{withCredentials: true}, {\r\n          responseType: 'blob'\r\n        });\r\n        const split = path.split('/');\r\n        const filename = split[split.length - 1];\r\n        setErrorMsg('');\r\n        return download(result.data, filename, mimetype);\r\n      } catch (error) {\r\n        if (error.response && error.response.status === 400) {\r\n          setErrorMsg('Error while downloading file. Try again later');\r\n        }\r\n      }\r\n    };\r\n\r\n\r\nfunction dateFormat(date) {\r\n    const day = date.getDate();\r\n    const dayString = day >= 10 ? day : `0${day}`;\r\n    return `${dayString}`;\r\n  }\r\n\r\nfunction countDate(date){\r\n    const count= (dateFormat(new Date())-dateFormat(new Date(`${date}`)))\r\n    if(count===0){\r\n        return 'Today';\r\n    }else if(count===1){\r\n        return `${count} day ago`\r\n    }else{\r\n        return `${count} days ago`\r\n    }\r\n}\r\n\r\n\r\n    const Cards = (props)=>{\r\n        const { header, fileList } = props;\r\n        return(\r\n            <>\r\n            {errorMsg && <p className=\"errorMsg\">{errorMsg}</p>}\r\n            <Card centered fluid>\r\n            <Card.Content>\r\n                <Card.Header>{header}</Card.Header>\r\n            </Card.Content>\r\n            <Card.Content>\r\n            {fileList.map((file, index) => (\r\n            <Feed>\r\n                <Feed.Event>\r\n                    <Feed.Content>\r\n                        <Feed.Date content= {countDate(file.createdAt)} />\r\n                        <Feed.Summary>\r\n                        {file.title}\r\n                        <i class=\"download icon\" style={{float: 'right',cursor: 'pointer'}}  onClick={()=>downloadFile(file._id, file.file_path, file.file_mimetype)}></i>\r\n                        </Feed.Summary>\r\n                    </Feed.Content>\r\n                </Feed.Event>\r\n            </Feed>\r\n            ))}\r\n            </Card.Content>\r\n         </Card>\r\n         </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Grid divided>\r\n                <Grid.Row>\r\n                    <Grid.Column width=\"6\">\r\n                        <Cards header=\"Recent Uploads\" fileList={latestFilesList}/>\r\n                        <Cards header=\"My Uploads\" fileList={myFilesList}/>\r\n                        {/* <Cards header=\"Important\"/> */}\r\n                    </Grid.Column>\r\n                    <Grid.Column width=\"10\">\r\n                        <Card fluid>\r\n                        <Card.Content>\r\n                            <Card.Header>Recent active users</Card.Header>\r\n                        </Card.Content>\r\n                        </Card>\r\n                    </Grid.Column>\r\n                </Grid.Row>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n        // <div>\r\n        //     <Grid columns=\"equal\">\r\n        //         <Grid.Row>\r\n        //             <Grid.Column>\r\n        //                 <Card fluid>\r\n        //                 <Card.Content>\r\n        //                     <Card.Header>Passed Eventsz</Card.Header>\r\n        //                 </Card.Content>\r\n        //                 </Card>\r\n        //             </Grid.Column>\r\n        //             <Grid.Column>\r\n        //                 <Card fluid>\r\n        //                 <Card.Content>\r\n        //                     <Card.Header>Recent active users</Card.Header>\r\n        //                 </Card.Content>\r\n        //                 </Card>\r\n        //             </Grid.Column>\r\n        //         </Grid.Row>\r\n        //     </Grid>\r\n        // </div>","F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\Sidebar.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\UserSidebar.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\UserApp.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\utils\\constants.js",[],"F:\\projects\\react-node-mongo projects\\college-util\\client\\src\\components\\AdminLoader.js",[],{"ruleId":"72","replacedBy":"73"},{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","severity":1,"message":"77","line":2,"column":32,"nodeType":"78","messageId":"79","endLine":2,"endColumn":36},{"ruleId":"76","severity":1,"message":"80","line":4,"column":27,"nodeType":"78","messageId":"79","endLine":4,"endColumn":31},"no-native-reassign",["81"],"no-negated-in-lhs",["82"],"no-unused-vars","'Card' is defined but never used.","Identifier","unusedVar","'Icon' is defined but never used.","no-global-assign","no-unsafe-negation"]